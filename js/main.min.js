const rates=document.querySelectorAll(".slider__item-rate"),menuBtn=document.querySelector(".menu__btn"),menuList=document.querySelector(".header__menu-list"),headerBtn=document.querySelector(".header__btn"),backgroundChange=document.querySelectorAll('section[data-background="true"]');function check_webp_feature(e,n){var o=new Image;o.onload=function(){var t=0<o.width&&0<o.height;n(e,t)},o.onerror=function(){n(e,!1)},o.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}function rate(){rates.forEach(e=>{if(e.hasAttribute("data-rate")){var n=e.getAttribute("data-rate").toString(),o=5-n;for(let t=0;t<n;t++)r();for(let t=0;t<o;t++)a()}else{r();for(let t=0;t<4;t++)a()}function a(){const t=document.createElement("img");t.setAttribute("src","images/star.svg"),t.setAttribute("alt","пуста зірка"),e.appendChild(t)}function r(){const t=document.createElement("img");t.setAttribute("src","images/star-fill.svg"),t.setAttribute("alt","заповнена зірка"),e.appendChild(t)}})}function slider(t){const e=document.querySelector(t),a=e.closest('[data-slider="wrapper"]'),n=e.closest('[data-slider="parent-block"]');let o=e.children,r=window.getComputedStyle(o[0]).getPropertyValue("width"),l=(r=parseInt(r.substring(0,r.length-2)),window.getComputedStyle(o[0]).getPropertyValue("margin-right"));l=parseInt(l.substring(0,l.length-2));const s=e.closest('[data-slider="inner"]'),i=n.querySelector('[data-arrow="right"]'),d=n.querySelector('[data-arrow="left"]');let u,c=window.getComputedStyle(s).getPropertyValue("width"),A=parseInt(window.getComputedStyle(e).getPropertyValue("height").substring(0,3)),m=(parseInt(window.getComputedStyle(e).getPropertyValue("padding-bottom").substring(0,2)),A+=5,s.style.height=A+"px",c=parseInt(c.substring(0,c.length-2)),n.hasAttribute("data-anim")&&"true"===n.getAttribute("data-anim")&&(u=document.querySelector(".top-slider__btn-box")),Array.prototype.forEach.call(o,t=>{t.style.userSelect="none"}),1),g,p=1,y=[],f,h,b,v,w,S,C,B,E=0,L=500,X=L;if(n.hasAttribute("data-dots")?"true"===n.getAttribute("data-dots")&&(f=!0):f=!1,n.hasAttribute("data-center-mode"))if("true"===n.getAttribute("data-center-mode")){h=!0;for(let t=0;t<document.documentElement.clientWidth/r;t++)E++;g=-(r*E-(c-r)/2),e.style.transform="translateX("+(-g+(-2*r+(c-r)/2))+"px)",a.style.transform="translateX("+-(r*E-(c-r)/2)+"px)"}else h=!1,g=-r-l,a.style.transform="translateX("+(-r-l)+"px)";else h=!1,g=-r-l,a.style.transform="translateX("+(-r-l)+"px)";if(n.hasAttribute("data-autoplay")&&(S=!0,C=parseFloat(n.getAttribute("data-autoplay"))),f){const k=n.querySelector('[data-slider="dots-box"]');for(let t=0;t<o.length;t++){const q=document.createElement("button");q.classList.add("dot"),q.textContent=t+1,q.dataset.id=t+1,y.push(q),k.append(q)}y[0].classList.add("active"),y.forEach(e=>{e.addEventListener("click",()=>{var t=parseInt(e.getAttribute("data-id"));t>p?(b=Math.abs(t-p),X=L/b,I()):t<p&&(v=Math.abs(p-t),X=L/v,x())})})}function _(t=!0){if(!0===t&&(a.style.transition="transform .5s"),S&&(u.classList.remove("active"),clearInterval(w),w=null),-1===m&&(m+=o.length),0===(p=m%o.length)&&(p=o.length),h)for(let t=0;t<o.length;t++)o[t].classList.remove("active");setTimeout(()=>{o[(p+o.length-1)%o.length].style.order="1";for(let t=o.length-1;0<t;t--)o[(p+t-1)%o.length].style.order=(t+2).toString();if(h){e.style.transform="translateX("+(-g+(-2*r+(c-r)/2))+"px)";for(let t=0;t<o.length;t++)"4"===o[t].style.order&&o[t].classList.add("active")}else e.style.transform="translateX("+(-g-(r+l))+"px)";f&&(y.forEach(t=>t.classList.remove("active")),y[p-1].classList.add("active")),0<v?0<--v?x():X=L:0<b&&0<--b?I():X=L,S&&null===w&&(w=setInterval(I,1e3*C),u.classList.add("active"))},X)}function I(t=!0){g-=r+l,a.style.transform="translateX("+g+"px)",m+=1,_(t)}function x(t=!0){g+=r+l,a.style.transform="translateX("+g+"px)",--m,_(t)}i.addEventListener("click",()=>{I()}),d.addEventListener("click",()=>{x()}),s.addEventListener("touchstart",function(t){let e=t.targetTouches[0],n=void e.pageX,o=(a.style.transition="none",e);s.ontouchmove=t=>{o=t.targetTouches[0],B=o.pageX-e.pageX,a.style.transform="translateX("+(g+B)+"px)",B>=r+l?(X=0,e=t.targetTouches[0],x(!1)):B<=-r-l&&(X=0,e=t.targetTouches[0],I(!1))},s.ontouchend=()=>{n=o.pageX,e.pageX>n?I():e.pageX<n&&x(),s.ontouchmove=null,s.ontouchend=null}}),s.onmousedown=t=>{let e=t.pageX;function n(){B<0?I():0<B&&x(),s.onmouseleave=null,s.onmousemove=null,s.onmouseup=null}a.style.transition="none",B=0,S&&(clearInterval(w),w=null),s.onmousemove=t=>{B=t.pageX-e,a.style.transform="translateX("+(+g+B)+"px)",B>=r+l?(X=0,e=t.pageX,x(!1)):B<=-r-l&&(X=0,e=t.pageX,I(!1))},s.onmouseup=()=>{n()},s.onmouseleave=()=>{n()}},S&&(w=setInterval(I,1e3*C),u.classList.add("active")),window.addEventListener("resize",()=>{r=window.getComputedStyle(o[0]).getPropertyValue("width"),r=parseInt(r.substring(0,r.length-2)),l=window.getComputedStyle(o[0]).getPropertyValue("margin-right"),l=parseInt(l.substring(0,l.length-2)),A=parseInt(window.getComputedStyle(e).getPropertyValue("height").substring(0,3)),parseInt(window.getComputedStyle(e).getPropertyValue("padding-bottom").substring(0,2)),A+=5,s.style.height=A+"px",c=window.getComputedStyle(s).getPropertyValue("width"),c=parseInt(c.substring(0,c.length-2)),a.style.transition="none",h?(g=-(r*E*p-(c-r)/2),e.style.transform="translateX("+(-g+(-2*r+(c-r)/2))+"px)",a.style.transform="translateX("+g+"px)"):(g=p*r,a.style.transform="translateX("+g+"px)",e.style.transform="translateX("+(-g-(r+l))+"px)")})}menuBtn.addEventListener("click",()=>{menuList.classList.toggle("active"),headerBtn.classList.toggle("active")}),check_webp_feature("lossy",function(t,e){e||backgroundChange.forEach(t=>{let e=t.style.backgroundImage.toString();e=e.slice(0,-6)+'jpg")',t.style.backgroundImage=e})});const anchors=[].slice.call(document.querySelectorAll('a[href*="#"]')),animationTime=500,framesCount=120,modalsBtn=(anchors.forEach(function(a){a.addEventListener("click",function(t){t.preventDefault();let e=document.querySelector(a.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,n=e-window.pageYOffset,o=(console.log("coordY2: "+n),setInterval(function(){var t=Math.abs(n)/framesCount;0<n?t>window.pageYOffset-e&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,t):(window.scrollTo(0,e),clearInterval(o)):n<0?t<window.pageYOffset-e?window.scrollBy(0,-t):(window.scrollTo(0,e),clearInterval(o)):n&&clearInterval(o)},animationTime/framesCount))})}),[].slice.call(document.querySelectorAll('button[data-modal="modal"]'))),modalWindow=document.querySelector(".modal"),form=document.querySelector(".modal__form"),modalBtnClose=document.querySelector(".btn__modal--close"),modalBtnSubmit=document.querySelector(".modal__btn"),modalTitle=document.querySelector(".modal__title"),input1=document.querySelector(".modal__input--1"),input2=document.querySelector(".modal__input--2");function modal(){form.addEventListener("submit",function(t){t.preventDefault();var t=input1.value,e=input2.value;""!==t&&""!==e?(modalWindow.classList.remove("active"),input1.value="",input2.value=""):""!==t&&""===e?input2.style.borderColor="red":""===t&&""!==e?input1.style.borderColor="red":""===t&&""===e&&(input1.style.borderColor="red",input2.style.borderColor="red")}),modalsBtn.forEach(t=>{t.addEventListener("click",function(){modalWindow.classList.add("active"),"true"===t.getAttribute("data-book")?(modalTitle.textContent="Введіть дані для бронювання",modalBtnSubmit.textContent="Забронювати"):(modalTitle.textContent="Зв'яжемося з вами за 30 хвилин",modalBtnSubmit.textContent="Зв'язатися")})}),modalBtnClose.addEventListener("click",function(){modalWindow.classList.remove("active"),input1.style.borderColor="#52503B",input2.style.borderColor="#52503B"}),input1.addEventListener("input",()=>input1.style.borderColor="#52503B"),input2.addEventListener("input",()=>input2.style.borderColor="#52503B")}modal(),rate(),document.addEventListener("DOMContentLoaded",()=>{slider(".slider__content")});